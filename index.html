<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>Random User</title>
    <link rel="stylesheet" type="text/css" href="css/styles.css" />
  </head>

  <body>
    <h1>Dossiers</h1>
    <ul id="people"></ul>
  </body>

  <script>
    function createNode(element) {
      return document.createElement(element);
    }

    function append(parent, el) {
      return parent.appendChild(el);
    }

    function renderProfile(person) {
      return `
      <h2>${person.name.title}. ${person.name.first} ${person.name.last}</h2>
      <p><b>Date of Birth:</b> ${person.dob.date}</p>
      <p><b>Age:</b> ${person.dob.age} <b>Sex:</b> ${person.gender}</p>
      <p><b>Location:</b> ${person.location.city}, ${person.location.state}. ${person.location.country}</p>
      <p><b>Cell Phone:</b> ${person.cell}</p>
      <p><b>E-Mail:</b> ${person.email}</p>
      <p><b>ID:</b> ${person.id.name}-${person.id.value}</p>
      `;
    }

    const ul = document.getElementById("people");
    const url = "https://randomuser.me/api/?results=10";
    fetch(url)
      .then(resp => resp.json())
      .then(function(data) {
        let people = data.results;
        return people.map(function(person) {
          let li = createNode("li"),
            img = createNode("img"),
            span = createNode("span");
          img.src = person.picture.large;
          span.innerHTML = renderProfile(person);
          append(li, img);
          append(li, span);
          append(ul, li);
        });
      })
      .catch(function(error) {
        console.log(JSON.stringify(error));
      });
  </script>
</html>
